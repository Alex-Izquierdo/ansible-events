---
- name: Test rules4 Prod
  hosts: all
  sources: []
  states:
    - state: dev
      host_rules:
      - name: rule 1
        condition: sensu.data.i == 1 and datadog.header.k == 2
        action:
            assert_fact:
              ruleset: Test rules4 Prod
              fact:
                j: 1
      - name: rule 2
        condition: i == 2
        action:
          debug:
        to: production
    - state: production
      host_rules:
        - name: rule 3
          condition: sensu.data.i == 1 and datadog.header.k == 2
          action:
            assert_fact:
              ruleset: Test rules4 Prod
              fact:
              j: 1
        - name: rule 4
          condition: i == 2
          to: shutdown
          action:
            debug:
    - state: shutdown
      rules: []
